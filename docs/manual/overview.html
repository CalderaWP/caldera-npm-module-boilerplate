<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../">
  <title data-ice="title">Manual | Caldera Whatever</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  <script src="script/manual.js"></script>
<meta name="description" content="Does whatever for Caldera Forms"><meta property="og:type" content="website"><meta property="og:url" content="http://calderalabs.org/caldera-npm-module-boilerplate/"><meta property="og:site_name" content="Caldera Whatever"><meta property="og:title" content="Caldera Whatever"><meta property="og:image" content="https://calderaforms.com/wp-content/themes/caldera-forms-dot-com/img/caldera-forms-logo.svg"><meta property="og:description" content="Does whatever for Caldera Forms"><meta property="og:author" content="http://calderalabs.org"><meta property="twitter:card" content="summary"><meta property="twitter:title" content="Caldera Whatever"><meta property="twitter:description" content="Does whatever for Caldera Forms"><meta property="twitter:image" content="https://calderaforms.com/wp-content/themes/caldera-forms-dot-com/img/caldera-forms-logo.svg"></head>
<body class="layout-container manual-root" data-ice="rootContainer">

<header>
  <a href="./" style="display: flex; align-items: center;"><img src="./image/brand_logo.svg" style="width:34px;"></a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
<a style="position:relative; top:3px;" href="https://github.com/calderawp/caldera-whatever"><img width="20px" src="./image/github.png"></a></header>

<nav class="navigation" data-ice="nav"><div class="manual-toc-root">
  
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/overview.html"><a href="manual/overview.html" data-ice="link">Caldera Whatever API</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/overview.html"><a href="manual/overview.html#documentation-of-the-example-module" data-ice="link">Documentation Of the Example Module</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/overview.html"><a href="manual/overview.html#-code-sayhi--code-" data-ice="link">sayHi</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/overview.html"><a href="manual/overview.html#using-this-boilerplate" data-ice="link">Using This Boilerplate</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/overview.html"><a href="manual/overview.html#enable-github-pages-for-docs" data-ice="link">Enable Github Pages For Docs</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/overview.html"><a href="manual/overview.html#react-component-development" data-ice="link">React Component Development</a></li>
<li data-ice="manualNav" class="indent-h4" data-link="manual/overview.html"><a href="manual/overview.html#setup-npm-for-react-dev" data-ice="link">Setup npm for React dev</a></li>
<li data-ice="manualNav" class="indent-h4" data-link="manual/overview.html"><a href="manual/overview.html#add-main-app-component" data-ice="link">Add Main App Component</a></li>
<li data-ice="manualNav" class="indent-h4" data-link="manual/overview.html"><a href="manual/overview.html#adding-state-management" data-ice="link">Adding State Management</a></li>
<li data-ice="manualNav" class="indent-h5" data-link="manual/overview.html"><a href="manual/overview.html#state-management-development-guidelines" data-ice="link">State Management Development Guidelines</a></li>
<li data-ice="manualNav" class="indent-h5" data-link="manual/overview.html"><a href="manual/overview.html#helpful-resources-about-state-management-in-react-this-way" data-ice="link">Helpful Resources About State Management In React This Way</a></li>
<li data-ice="manualNav" class="indent-h4" data-link="manual/overview.html"><a href="manual/overview.html#creating-components" data-ice="link">Creating Components</a></li>
<li data-ice="manualNav" class="indent-h5" data-link="manual/overview.html"><a href="manual/overview.html#react-component-guidelines" data-ice="link">React Component Guidelines</a></li>
<li data-ice="manualNav" class="indent-h5" data-link="manual/overview.html"><a href="manual/overview.html#react-component-example" data-ice="link">React Component Example</a></li>
<li data-ice="manualNav" class="indent-h5" data-link="manual/overview.html"><a href="manual/overview.html#good-reads-about-component-development-in-react-this-way" data-ice="link">Good Reads About Component Development In React This Way</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/overview.html"><a href="manual/overview.html#creating-exports" data-ice="link">Creating Exports</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/overview.html"><a href="manual/overview.html#publishing-to-npm" data-ice="link">Publishing To NPM</a></li>
</ul>
  </div>
</div>
</nav>

<div class="content" data-ice="content"><div class="github-markdown" data-ice="content"><h1 id="caldera-whatever-api">Caldera Whatever API</h1><h2 id="documentation-of-the-example-module">Documentation Of the Example Module</h2><p>This is a guide for documenting how to use your actual module.</p>
<h3 id="-code-sayhi--code-"><code>sayHi</code></h3><pre><code class="lang-js"><code class="source-code prettyprint">//Say Hi to Roy
console.log(sayHi()); //Hi Roy</code>
</code></pre>
<pre><code class="lang-js"><code class="source-code prettyprint">//Say Hi to Someone else
console.log(sayHi(&apos;Mike&apos;)); //Hi Mike</code>
</code></pre>
<h2 id="using-this-boilerplate">Using This Boilerplate</h2><h3 id="enable-github-pages-for-docs">Enable Github Pages For Docs</h3><p>Go to Settings in Github repo.</p>
<p>Enable Github pages for master branch /docs dir
<a href="https://ibb.co/bTSUv8"><img src="https://preview.ibb.co/hsXwa8/Screen_Shot_2018_06_09_at_3_41_30_PM.png"></a></p>
<h3 id="react-component-development">React Component Development</h3><h4 id="setup-npm-for-react-dev">Setup npm for React dev</h4><p>Add React, React DOM and some form of <a href="https://www.npmjs.com/package/react-scripts">react scripts</a> as dependencies in package.json. In this example, <a href="https://github.com/humanmade/react-wp-scripts">humanmade/react-wp-scripts</a> is used.</p>
<pre><code><code class="source-code prettyprint">{
&quot;dependencies&quot;: {
    &quot;react&quot;: &quot;^16.4.0&quot;,
    &quot;react-dom&quot;: &quot;^16.4.0&quot;,
    &quot;react-wp-scripts&quot;: &quot;0.2.0&quot;
  }
}</code>
</code></pre><p>Then add a start command to scripts and use react scripts for tests and test:once in package.json</p>
<pre><code class="lang-json"><code class="source-code prettyprint">{
 &quot;scripts&quot; : {
    &quot;start&quot;: &quot;react-wp-scripts start&quot;,
        &quot;test&quot;: &quot;react-scripts test --env=jsdom&quot;,
        &quot;test:once&quot;: &quot;CI=true react-scripts test --env=jsdom&quot;,
 }
}
</code>
</code></pre>
<p>Notes:</p>
<ul>
<li>Test once command once here: <a href="https://github.com/facebook/create-react-app/issues/1137#issuecomment-265292520">https://github.com/facebook/create-react-app/issues/1137#issuecomment-265292520</a></li>
<li>If you get an error <code>SyntaxError: Unexpected token &lt;</code> from the logo.svg, you probably forgot to change the tests command.</li>
</ul>
<p>In README.md, document this new script:</p>
<pre><code class="lang-markdown"><code class="source-code prettyprint">### Develop
* `yarn start`
    - Runs linter and compiles for development
    - Starts test app server</code>
</code></pre>
<h4 id="add-main-app-component">Add Main App Component</h4><p>Copy this from <a href="https://github.com/calderawp/react-start">calderawp/react-start</a> or build your own.</p>
<h4 id="adding-state-management">Adding State Management</h4><h5 id="state-management-development-guidelines">State Management Development Guidelines</h5><ul>
<li>We use <a href="https://redux.js.org/">Redux</a>-like state management.</li>
<li>Try and use 1-2 <a href="https://redux.js.org/basics/usage-with-react#implementing-container-components">container components</a> and pass state down to stateless, <a href="https://reactjs.org/docs/forms.html#controlled-components">controlled components</a>.</li>
<li>A component for UI, should not own its state management. That&apos;s a separate concern, it goes elsewhere.</li>
<li>Use <a href="https://github.com/calderawp/caldera-state">@caldera-labs/state package</a>. If that module does not have the features needed, either add them or make a new module extending it.</li>
<li>Try to use <a href="https://www.npmjs.com/package/@wordpress/data">@wordpress/data</a> over Redux when possible.</li>
</ul>
<h5 id="helpful-resources-about-state-management-in-react-this-way">Helpful Resources About State Management In React This Way</h5><ul>
<li><a href="https://medium.com/@dan_abramov/smart-and-dumb-components-7ca2f9a7c7d0">https://medium.com/@dan_abramov/smart-and-dumb-components-7ca2f9a7c7d0</a></li>
<li><a href="https://css-tricks.com/learning-react-container-components/">https://css-tricks.com/learning-react-container-components/</a></li>
<li><a href="https://www.youtube.com/watch?v=v6iR3Zk4oDY">https://www.youtube.com/watch?v=v6iR3Zk4oDY</a></li>
</ul>
<h4 id="creating-components">Creating Components</h4><p>Components must have one responsibility. They can contain components with additional responsibilities.</p>
<h5 id="react-component-guidelines">React Component Guidelines</h5><ul>
<li><a href="https://reactjs.org/docs/forms.html#controlled-components">controlled components</a></li>
<li><a href="https://reactjs.org/docs/components-and-props.html#functional-and-class-components">Functional, not class components</a>. Redux owns state, we do not need to manage its update cycle. Functional components are highly testable and more likely to play nicely with <a href="https://reactjs.org/blog/2018/03/27/update-on-async-rendering.html">async rendering</a></li>
</ul>
<h5 id="react-component-example">React Component Example</h5><pre><code class="lang-js"><code class="source-code prettyprint">import React from &apos;react&apos;;
import PropTypes from &apos;prop-types&apos;;

/**
 * Basic input component
 * 
 * @param {Object} props
 * @returns {*}
 * @constructor
 */
export const Input = (props) =&gt; {
    function changeHandler(event){
        return props.onValueChange(event.target.value);
    }
    return (
        &lt;input
            type={props.inputType}
            id={props.id}
            className={props.fieldClassName}
            aria-describedby={props.ariaDescribedbyAttr}
            required={props.isRequired}
            onChange={changeHandler}
            value={props.value}
        /&gt;
    );

};

/**
 * Prop definitions for Input components
 */
Input.propTypes = {
    id: PropTypes.string.isRequired,
    fieldClassName: PropTypes.string.isRequired,
    help: PropTypes.string,
    value: PropTypes.any(
        PropTypes.string,
        PropTypes.number,
        PropTypes.array
    ),
    onValueChange: PropTypes.func.isRequired,
    inputType: PropTypes.string.isRequired,
    options: PropTypes.array,
    ariaDescribedbyAttr: PropTypes.string,
};

/**
 * Default props for Input Component
 * 
 * @type {{ariaDescribedbyAttr: string, isRequired: boolean, inputType: string}}
 */
Input.defaultProps = {
    ariaDescribedbyAttr: &apos;&apos;,
    isRequired: false,
    inputType: &apos;text&apos;
};</code>
</code></pre>
<h5 id="good-reads-about-component-development-in-react-this-way">Good Reads About Component Development In React This Way</h5><ul>
<li><a href="https://codeburst.io/when-to-use-component-or-purecomponent-a60cfad01a81">https://codeburst.io/when-to-use-component-or-purecomponent-a60cfad01a81</a></li>
<li><a href="https://60devs.com/pure-component-in-react.html">https://60devs.com/pure-component-in-react.html</a></li>
<li><a href="https://medium.com/@antonkorzunov/2-things-about-purecomponent-you-probable-should-know-b04844a90d4">https://medium.com/@antonkorzunov/2-things-about-purecomponent-you-probable-should-know-b04844a90d4</a><h3 id="creating-exports">Creating Exports</h3>This boilerplate compiles code with babel to the <code>/dist</code> directory. One or more module exports must be created and identified in package.json.</li>
</ul>
<p>For example:</p>
<pre><code class="lang-json"><code class="source-code prettyprint">{
&quot;main&quot;: &quot;./dist/index.js&quot;,
  &quot;files&quot; : [
      &quot;./dist/index.js&quot;,
      &quot;./dist/fields/index.js&quot;,
      &quot;./dist/fields/factories/index.js&quot;
  ]
}</code>
</code></pre>
<p>See:</p>
<ul>
<li><a href="https://docs.npmjs.com/files/package.json#files">https://docs.npmjs.com/files/package.json#files</a></li>
<li><a href="https://docs.npmjs.com/files/package.json#main">https://docs.npmjs.com/files/package.json#main</a></li>
</ul>
<h3 id="publishing-to-npm">Publishing To NPM</h3><p>All Caldera libraries should be published as <a href="https://www.npmjs.com/docs/orgs/publishing-an-org-scoped-package.html">org scoped packages</a> in the <a href="https://www.npmjs.com/search?q=%40caldera-labs">@caldera-labs</a> organization.</p>
<p>Short version of <a href="https://www.npmjs.com/docs/orgs/publishing-an-org-scoped-package.html">the docs</a></p>
<p>Make sure in package.json:</p>
<ul>
<li>That <code>private</code> is not set to true.</li>
<li>That the name of the package is <code>@caldera-labs/whatever</code> where <code>whatever</code> describes the modules job. For example, <code>@caldera-labs/mailchimp-client</code> if you&apos;re building a Mailchimp client. Note that &quot;caldera&quot; was not used on the right side of the slash.</li>
<li>That you have specified at least one entry point and defined a module export for it.</li>
<li>You have authorization to publish in <code>@caldera-labs</code> org scope.</li>
<li>You are logged in as that user via the npm cli<ul>
<li><a href="https://docs.npmjs.com/cli/adduser">https://docs.npmjs.com/cli/adduser</a></li>
</ul>
</li>
</ul>
<p>Once you&apos;re ready to publish, commit everything and do the first release manually:</p>
<p><code>npm publish --access public</code></p>
<p>After that, the documented scripts for automated update publishing apply for future updates.</p>
</div>
</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(1.1.0)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
